ClassifyRuns â† Â¯1âŠ¸+ âŠ¢ Ã— +`âˆ˜(0âŠ¸âŒˆ)âˆ˜(-âŸœÂ»)
lines â† â€¢FLinesâŠ‘â€¢args
tokens â† ClassifyRunsâˆ˜('a'âŠ¸â‰¤âˆ§â‰¤âŸœ'z')âŠ¸âŠ” âŠ‘lines
patterns â† 2â†“lines

â€¢Show +Â´Â¨ (0âŠ¸<âŠ¸â‹ˆ) {ğ•Špattern:
  subtokens â† âˆ¨Â´âˆ˜(â·âŸœpattern)Â¨âŠ¸/ tokens  # branch only with tokens in pattern
  t â† â‰> Â»âŸœ(@â¥ŠËœâŒˆÂ´â‰ Â¨subtokens)ËœÂ¨ subtokens  # null-padded token matrix
  LeadingTokens â† {(âˆ§Ë (t=@)âˆ¨(t=ğ•©Â»@â¥ŠËœâ‰ t))/subtokens}
  Branch â† {ğ•Ši: i+ â‰ Â¨ LeadingTokens iâ†“pattern}
  nsolutions â† 0
  { []ğ•Š[]: @;
    iğ•Šn:
    solved â† i=â‰ pattern
    nsolutions +â†© +Â´solved/n
    iâ€¿n (Â¬solved)âŠ¸/Â¨â†©
    ibranchâ€¿nbranch â† {âŸ¨(âˆ¾ğ•©),(n/Ëœâ‰ Â¨ğ•©)âŸ©} BranchÂ¨ i
    ibranch (âŠ‘Â¨âŠ¸ğ•ŠâŸœ(+Â´Â¨))â—‹((âŠibranch)âŠ¸âŠ”) nbranch
  }Â´ [0]â€¿[1]
  nsolutions
}Â¨ patterns

