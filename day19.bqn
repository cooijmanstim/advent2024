ClassifyRuns â† Â¯1âŠ¸+ âŠ¢ Ã— +`âˆ˜(0âŠ¸âŒˆ)âˆ˜(-âŸœÂ»)
lines â† â€¢FLinesâŠ‘â€¢args
tokens â† ClassifyRunsâˆ˜('a'âŠ¸â‰¤âˆ§â‰¤âŸœ'z')âŠ¸âŠ” âŠ‘lines
patterns â† 2â†“lines

â€¢Show +Â´Â¨ (0âŠ¸<âŠ¸â‹ˆ) {ğ•Špattern:
  subtokens â† âˆ¨Â´âˆ˜(â·âŸœpattern)Â¨âŠ¸/ tokens  # branch only with tokens in pattern
  t â† â‰> { ğ•©Â»@â¥ŠËœâŒˆÂ´â‰ Â¨subtokens }Â¨ subtokens  # null-padded token matrix
  LeadingTokens â† {(âˆ§Ë (t=@)âˆ¨(t=ğ•©Â»@â¥ŠËœâ‰ t))/subtokens}
  { ğ•Š[]: 0;
    âˆ§Â´(â‰ pattern)=0âŠË˜ğ•©? +Â´ 1âŠË˜ğ•©;
    solved â† ((â‰ pattern)âŠ¸=âŠË˜)âŠ¸/ ğ•©
    branches â† âˆ¾ {ğ•Šiâ€¿n: {â‰ğ•©â‰((â‰ ğ•©)â¥Šn)} i+ â‰ Â¨ LeadingTokens iâ†“pattern}Â¨ <Ë˜ ğ•©
    ğ•Š > ((+Â´ 1âŠ¸âŠË˜) â‹ˆËœ âŠ‘)Â¨ âŠâˆ˜(âŠË˜)âŠ¸âŠ” solved âˆ¾ branches
  } [0â€¿1]
}Â¨ patterns

