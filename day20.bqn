map â† >â€¢FLinesâŠ‘â€¢args

v â† { # find the one path and measure distance to goal (âˆ for walls)
  path â† â‹ˆ âŠ‘ (map='S') /â—‹â¥Š â†•â‰¢map
  {ğ•©
    candidates â† (âŠ‘path)âŠ¸+Â¨ <Ë˜ âˆ˜â€¿2â¥ŠÂ¯1â€¿0â€¿0â€¿Â¯1â€¿1â€¿0â€¿0â€¿1
    path âˆ¾Ëœâ†© < âŠ‘ {1<â‰ path?ğ•©â‰¢1âŠ‘path;1}Â¨âŠ¸/ ('#'âŠ¸â‰ âˆ˜(mapâŠ¸(âŠ‘Ëœ)))âŠ¸/ candidates
  } â€¢_while_ {ğ•©â‹„ 'E'â‰ mapâŠ‘ËœâŠ‘path} path
  (â†•â‰ path)âŒ¾(pathâŠ¸âŠ‘) (â‰¢map)â¥Šâˆ
}

Cheats â† {ğ•Šn:  # convolve with a diamond of radius n to discover cheats
c â† nâ€¿n
d â† +Â´Â¨ |âˆ˜-âŸœcËœÂ¨ â†• 2â¥ŠÂ¯1+2Ã—n+1
vpad â† v {{âˆ¾âŸ¨âˆâ¥ŠËœn-1,ğ•©,âˆâ¥ŠËœn-1âŸ©}Ë˜âŒ¾ğ• ğ•©}Â´ â‰â€¿âŠ¢  # pad four ways
âˆ¾ { ((dâ‰¤n)âˆ§(âˆâ‰ ğ•©)âˆ§(âˆâ‰ câŠ‘ğ•©)) /â—‹â¥Š d-Ëœ0âŒˆğ•©-câŠ‘ğ•© }Â¨ â¥Š<â‰2 (â‰¢d)â†• vpad
}

â€¢Show +Â´ 99< Cheats 2
â€¢Show +Â´ 99< Cheats 20

